%!TEX root = book.tex 
% chktex-file 1
% chktex-file 3
% chktex-file 8
% chktex-file 12
% chktex-file 18
% chktex-file 24
% chktex-file 35 
% chktex-file 42

\section{Simplicial objects}%
\label{sec:Simplicialobjects}

Our aim is to convert equality from a property into a structure.
At a minimum, we want to be able to work with notions of equivalence that are not just set-theoretic equality.
Traditionally, such an alternative is described as an \emph{equivalence relation} on a set $S$.

A \emph{relation} is encoded by a subset $R \subseteq S \times S$, which is the subset of related pairs of elements.
An \emph{equivalence} relation is one that is reflexive, symmetric, and transitive:
\begin{enumerate}
  \item Reflexivity is the condition that $R$ contains the image of the \emph{diagonal map} $S \to S \times S$ given by $x \mapsto (x,x)$.
  \item Symmetry is the condition that $R$ is stable under the involution of $S \times S$ given by $(x,y) \mapsto (y,x)$.
  \item Transitivity states that the projection $S \times S \times S \to S \times S$ given by $(x,y,z) \mapsto (x,z)$ carries the subset $R \times_S R \subseteq S \times S \times S$ to the subset $R$.
\end{enumerate}
An equivalence relation on $S$ can thus be converted into a diagram
\begin{equation}
  \label{eq:equivrel}
  \begin{tikzcd}[sep=1.5em, ampersand replacement=\&]
    R \times_S R \arrow[r] \arrow[r, shift left=1.5ex] \arrow[r, shift right=1.5ex] \& R \arrow[l, shift left=0.75ex] \arrow[l, shift right=0.75ex] \arrow[r, shift left=0.75ex] \arrow[r, shift right=0.75ex] \& S \comma \arrow[l]
  \end{tikzcd}%
\end{equation}
The maps from left to right are various projections.
The maps from right to left are various diagonal maps.
The colimit of this diagram agrees with the coequalizer of the subdiagram 
\[
  \begin{tikzcd}[sep=1.5em, ampersand replacement=\&]
    R \arrow[r, shift left=0.5ex] \arrow[r, shift right=0.5ex] \& S \comma
  \end{tikzcd}%
\]
which is in turn the set of equivalence classes $S/R$.

The case we want to make is that this diagram shape is the start of a more natural \emph{simplicial diagram}, extending infinitely off to the left:
\[
  \simplicial{R_2}{R_1}{R_0}.
\]
This diagram can encode the higher forms of equivalence we sought in the introduction to this chapter.

Our diagram \eqref{eq:equivrel} does not capture the symmetry property of $R$.
It would be a simple matter to incorporate actions of the symmetric groups $\Sigma_2$ and $\Sigma_3$ on $R$ and $R \times_S R$ into our diagram.
This would lead us to the theory of \emph{symmetric simplicial sets}.
We will see in our story that the symmetry is encoded not in the shape of a simplicial diagram of sets, but in the properties we demand of it when it models an anima.
This asymmetry is as much a feature as it is a bug, however:
it will be necessary when we want to connect the theory of simplicial sets to that of categories.

Nothing in the diagram \eqref{eq:equivrel} forces $R$ to be a subset of $S \times S$;
we may demand only that $R$ map to $S \times S$.
The effect of this is to permit the elements of $S$ to be equivalent in many ways.
For example, if $x,y \in S$, then the fiber of the map $R \to S \times S$ is a set
\[
  \enquine{x R y} \comma
\]
which is the set of ways in which $x$ and $y$ are equivalent -- or witnesses to their equivalence.
The middle map from $R \times_S R \to R$ now carries two such witnesses, $\beta \in \enquine{xRy}$ and $\gamma \in \enquine{yRz}$, to a composite witness $\gamma\beta \in \enquine{xRz}$.
But now we encounter a kind of \emph{higher transitivity}: if $\alpha \in \enquine{wRx}$, then there ought to be only one composite witness $\gamma\beta\alpha \in \enquine{wRz}$.
In other words, this composition should be \emph{associative}:
$(\gamma\beta)\alpha = \gamma(\beta\alpha)$.
If it is, then what we have is the data of a \emph{groupoid} whose objects are the elements of $S$ and whose (iso)morphisms are elements of $R$, so that $\Isom(x,y) = \enquine{xRy}$.

The associativity also lets us extend our diagram \eqref{eq:equivrel} to a larger diagram
\begin{equation}%
  \label{eq:groupoid}
  \begin{tikzcd}[sep=1.5em, ampersand replacement=\&]
    R \times_S R \times_S R\arrow[r, shift left=0.75ex] \arrow[r, shift right=0.75ex] \arrow[r, shift right=2.25ex] \arrow[r, shift left=2.25ex] \& R \times_S R \arrow[l] \arrow[l, shift left=1.5ex] \arrow[l, shift right=1.5ex] \arrow[r] \arrow[r, shift left=1.5ex] \arrow[r, shift right=1.5ex] \& R \arrow[l, shift left=0.75ex] \arrow[l, shift right=0.75ex] \arrow[r, shift left=0.75ex] \arrow[r, shift right=0.75ex] \& S \period \arrow[l]
  \end{tikzcd}%
\end{equation}
These diagrams are now becoming sufficiently complicated that
we need to be more pedantic about the indexing categories we're using.

\input{thesimplexcategory.tex}

\input{simplicialcosimplicial.tex}

\input{generatorsrelations.tex}

\input{skeletalandcoskeletal.tex}

\input{geometricrealization.tex}

\input{highergroupoidshighercategories.tex}

\input{fibrations.tex}

\begin{exercises}
  \item%
    \label{exercise:PAfreelygenerated}
    Prove Proposition \ref{prp:PAfreelygeneratedbyA}.
  \item%
    \label{exercise:nskeletonascolimit}
    We have seen that every simplicial set $X$ is the colimit of its simplices.
    Now show that $X$ is $n$-skeletal if and only if the canonical map
    \[
      \colim_{[m] \in \DDelta_{\leq n, /X}} \Delta^m \to X
    \]
    is an isomorphism.
  \item%
    \label{exercise:nerve2cosk}
    Show that the composition of the nerve functor $N \colon \Cat \to s\Set$ with the restriction $s\Set \to s_{\leq 2}\Set$ is fully faithful.
    Conclude that the nerve of every small category is $2$-coskeletal.
\end{exercises}


